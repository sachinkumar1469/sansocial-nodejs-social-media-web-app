class chatEngine{constructor(t,e,o){this.chatBoxId=$(""+t),this.from=e,this.to=o,this.socket=io.connect("http://localhost:5000",{query:{userName:e}}),this.connectionHandler()}connectionHandler(){this.socket.on("connect",t=>{this.createRoom(),console.log("Connection est.",t)})}createRoom(){console.log("Creating Room"),this.socket.emit("create-room",{from:this.from,to:this.to})}}let from=$(".chat-send").attr("data-sender"),to=$(".chat-send").attr("data-receiver");const chatEng=new chatEngine("chat",from,to);$(".chat-send").on("click",function(t){console.log("Send Msg Clicked");var e=$(".chat-msg");e.val().length<=0?console.log("Empty"):(chatEng.socket.emit("send-message",{to:to,message:e.val()}),e.val(""))}),chatEng.socket.on("get-message",t=>{console.log("Get message event is triggered by the server to emit the data to all the clients",t);t=$(`<div class="chat ${t.sender==from?"self":"other"}">
        ${t.message}
    </div>`);$(".chats").append(t)});